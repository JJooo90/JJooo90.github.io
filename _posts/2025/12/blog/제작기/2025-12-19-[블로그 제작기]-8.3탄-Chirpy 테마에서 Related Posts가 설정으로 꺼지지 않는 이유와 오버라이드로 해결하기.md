---
  title: "[blog] Chirpy 테마에서 Related Posts가 설정으로 꺼지지 않는 이유와 오버라이드로 해결하기"
  categories: [blog, 제작기]
  tags: [github-pages, jekyll, chirpy, related-posts, troubleshooting]
  layout: post
  series: "블로그 제작기"
  series_order: 96
  toc: true
---

  ## 문제 상황

  Chirpy 테마에서 포스트 하단에 노출되는 **관련된 글(Related Posts)** 을 끄기 위해  
  `_config.yml` 및 포스트 Front Matter에 아래 설정을 추가하였다.

    related_posts: false

  하지만 설정과 무관하게 관련 글 영역은 계속 노출되었다.

  ## 처음에 가졌던 가정

  - Chirpy 테마를 clone 해서 사용 중
  - Front Matter 옵션이 있으므로 포스트 단위 제어가 가능할 것이라 예상
  - 설정이 반영되지 않는 것은 캐시 또는 빌드 문제일 것이라 판단

  ## 실제 동작 확인

  DevTools를 통해 DOM 구조를 확인한 결과,  
  하단에 노출되는 영역은 다음과 같은 구조를 가지고 있었다.

    <aside id="related-posts" aria-label="related-label">
      <h3 id="related-label">관련된 글</h3>
      ...
    </aside>

  주석과 구조상 이는 **Chirpy 기본 Related Posts 컴포넌트**임을 확인할 수 있었다.

  ## 원인 분석

  Chirpy 테마의 구조를 기준으로 보면 다음과 같다.

  - `related_posts: false` 값은 Front Matter 및 `_config.yml`에 정의 가능
  - 하지만 Chirpy 레이아웃 / include 내부에서
    해당 값을 조건으로 사용하는 코드가 존재하지 않음
  - 즉, 설정 값은 존재하지만 **읽히지 않는 상태**

  결과적으로,

  - 설정이 잘못된 것이 아님
  - Jekyll이 설정을 무시하는 것도 아님
  - **테마 설계상 관련 글은 항상 렌더링되도록 구현됨**

  ## 왜 오버라이드가 필요한가

  Jekyll 테마는 다음 우선순위를 따른다.

  - 로컬 프로젝트에 존재하는 파일
  - gem(테마) 내부 파일

  따라서,

  - 테마를 clone 했더라도
  - 해당 레이아웃 또는 include 파일이 로컬에 없으면
  - 수정 및 제어가 불가능

  Chirpy의 Related Posts는 레이아웃에서 조건 없이 include 되므로,  
  이를 제어하려면 **조건문을 직접 추가해야 한다.**

  ## 해결 전략

  레이아웃을 수정하지 않고도 문제를 해결하기 위해  
  **include 파일을 오버라이드**하는 방식을 선택한다.

  ## 해결 방법

  ### 1. Chirpy gem 경로 확인

    bundle show jekyll-theme-chirpy

  ### 2. 관련 include 파일 확인

  gem 경로 내부에서 다음 파일을 찾는다.

    _includes/related-posts.html

  ### 3. 로컬 프로젝트에 include 오버라이드

  프로젝트 루트에 다음 구조를 생성한다.

    _includes/
      related-posts.html

  그리고 gem 내부의 `related-posts.html`을 그대로 복사한다.

  ### 4. 조건문 추가

  복사한 `_includes/related-posts.html` 전체를  
  아래 조건문으로 감싼다.

    {% if page.related_posts != false %}
      (기존 related-posts.html 전체 내용)
    {% endif %}

  ### 5. 포스트 단위 제어

  관련 글을 숨기고 싶은 포스트의 Front Matter에 아래 옵션을 추가한다.

    related_posts: false

  ## 결과

  - 기본 포스트에서는 관련 글이 정상적으로 노출됨
  - `related_posts: false`가 있는 포스트에서는 관련 글 미노출
  - Chirpy 기본 UX를 해치지 않으면서 제어 가능

  ## 정리

  - `related_posts: false`가 동작하지 않는 것은 설정 오류가 아님
  - Chirpy 테마가 해당 값을 사용하지 않는 구조이기 때문
  - 이를 해결하기 위해서는 오버라이드가 필수
  - include 오버라이드는 Jekyll의 정상적인 확장 방식

  이번 이슈를 통해,
  테마를 “설정으로 쓰는 단계”에서  
  “구조를 이해하고 제어하는 단계”로 넘어가게 되었다.
